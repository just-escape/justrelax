name: waffle_factory

default_publication_channel: d2.scenario
subscriptions:
  - d2.waffle_factory
  - d2.broadcast

serials:
  - port: /dev/factory
    baud_rate: 9600
    buffering_interval: 0.1
  - port: /dev/printer
    baud_rate: 115200
    buffering_interval: 0.1

motor_default_step_delay: 3000
motors:
  niryo:
    index: 0
  short_one:
    index: 1
  printer:
    index: 2
  extractor:
    index: 3
  reloader:
    index: 4
  finisher:
    index: 5

animations:
  niryo:
    0:
      motor: niryo
      direction: backward
      n_pulses: 1000
      step_delay: 800
      liminary_n_pulses: 1000
      liminary_step_delay: 2400
    10:
      motor: niryo
      direction: homing
      n_pulses: 1000
      step_delay: 800
      liminary_n_pulses: 1000
      liminary_step_delay: 2400
  first_waffle:
    0:
      motor: short_one
      direction: backward
      n_pulses: 1000
      step_delay: 800
      liminary_n_pulses: 1000
      liminary_step_delay: 2400
  second_waffle:
    0:
      motor: short_one
      direction: backward
      n_pulses: 1000
      step_delay: 800
      liminary_n_pulses: 1000
      liminary_step_delay: 2400
  homing:
    0:
      motor: niryo
      direction: homing
      n_pulses: 2000
      step_delay: 800
      liminary_n_pulses: 1000
      liminary_step_delay: 2400

light_led:
  niryo:
    index: 1
    on_by_default: no
  printer:
    index: 0
    on_by_default: no

printer_patterns_directory: /etc/justrelax/patterns
